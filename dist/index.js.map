{"version":3,"sources":["../src/index.js"],"names":["app","get","req","res","params","query","url","v","err","response","resp","send","V","bestQuality","data","decode","listen","console","log","exports","module"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA,IAAIA,MAAM,wBAAV;;AAEAA,IAAIC,GAAJ,CAAQ,QAAR,EAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5B,QAAIC,SAASF,IAAIG,KAAjB;AACA,QAAIC,2DAAyDF,OAAOG,CAApE;AACA,2BAAQD,GAAR,EAAa,UAACE,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,EAAyB;AAClC,YAAGF,GAAH,EAAQ,OAAOL,IAAIQ,IAAJ,CAASH,GAAT,CAAP;AACR,YAAII,IAAI,mBAAUF,IAAV,CAAR;AACAP,YAAIQ,IAAJ,CAASC,EAAEC,WAAF,EAAT;AACH,KAJD;AAKH,CARD;AASAb,IAAIC,GAAJ,CAAQ,QAAR,EAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5B,QAAIC,SAASF,IAAIG,KAAjB;AACA,QAAIC,2DAAyDF,OAAOG,CAApE;AACA,2BAAQD,GAAR,EAAa,UAACE,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,EAAyB;AAClC,YAAGF,GAAH,EAAQ,OAAOL,IAAIQ,IAAJ,CAASH,GAAT,CAAP;AACR,YAAII,IAAI,mBAAUF,IAAV,CAAR;AACAP,YAAIQ,IAAJ,CAASC,EAAEE,IAAX;AACH,KAJD;AAKH,CARD;AASAd,IAAIC,GAAJ,CAAQ,OAAR,EAAiB,UAACC,GAAD,EAAKC,GAAL,EAAa;AAC5B,QAAGD,IAAIG,KAAJ,CAAUC,GAAb,EAAiB;AACf,+BAAQ,eAAOS,MAAP,CAAcb,IAAIG,KAAJ,CAAUC,GAAxB,CAAR,EAAsC,UAACE,GAAD,EAAMC,QAAN,EAAgBC,IAAhB,EAAyB;AAC7D,gBAAGF,GAAH,EAAQ,OAAOL,IAAIQ,IAAJ,CAASH,GAAT,CAAP;AACRL,gBAAIQ,IAAJ,CAASD,IAAT;AACD,SAHD;AAID;AACF,CAPD;AAQAV,IAAIgB,MAAJ,CAAW,MAAX;;AAEAC,QAAQC,GAAR,CAAY,4BAAZ;;AAEAC,UAAUC,OAAOD,OAAP,GAAiBnB,GAA3B","file":"index.js","sourcesContent":["import express from 'express';\nimport request from 'request';\nimport cheerio from 'cheerio';\nimport base64 from 'base-64';\nimport {\n  VIDEO\n} from './util/helpers';\nlet app = express();\n\napp.get('/watch', (req, res) => {\n    let params = req.query;\n    let url = `http://www.youtube.com/get_video_info?&video_id=${params.v}`;\n    request(url, (err, response, resp) => {\n        if(err) return res.send(err);\n        let V = new VIDEO(resp);\n        res.send(V.bestQuality());\n    });\n});\napp.get('/debug', (req, res) => {\n    let params = req.query;\n    let url = `http://www.youtube.com/get_video_info?&video_id=${params.v}`;\n    request(url, (err, response, resp) => {\n        if(err) return res.send(err);\n        let V = new VIDEO(resp);\n        res.send(V.data);\n    });\n});\napp.get('/pipe', (req,res) => {\n  if(req.query.url){\n    request(base64.decode(req.query.url), (err, response, resp) => {\n      if(err) return res.send(err);\n      res.send(resp);\n    });\n  }\n})\napp.listen('8081')\n\nconsole.log('Magic happens on port 8081');\n\nexports = module.exports = app;\n"]}